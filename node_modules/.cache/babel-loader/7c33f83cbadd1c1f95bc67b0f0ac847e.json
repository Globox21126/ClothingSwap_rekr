{"ast":null,"code":"import _slicedToArray from\"C:/Users/aleks/Desktop/Projekty/ClothingSwap/clothing-swap/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import Nav from\"../Home/Header/Header__components/Nav\";import{Link as RouterPath}from\"react-router-dom\";import{fire}from\"../../config\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userEmail=_useState2[0],setUserEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userPassword=_useState4[0],setUserPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),emailError=_useState6[0],setEmailError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordError=_useState8[0],setPasswordError=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),hasAccount=_useState10[0],setHasAccount=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),currentUser=_useState12[0],setCurrentUser=_useState12[1];var clearErrors=function clearErrors(){setEmailError(\"\");setPasswordError(\"\");};var handleLogin=function handleLogin(e){e.preventDefault();clearErrors();fire.auth().signInWithEmailAndPassword(userEmail,userPassword).then(authListener()).catch(function(error){console.log(error);switch(error.code){case\"auth/invalid-email\":case\"auth/user-disabled\":case\"auth/user-not-found\":setEmailError(error.message);break;case\"auth/wrong-password\":setPasswordError(error.message);break;}});};var authListener=function authListener(){fire.auth().onAuthStateChanged(function(userE){if(userE){setCurrentUser(fire.auth().currentUser.email);console.log(fire.auth().currentUser.email);}else{setHasAccount(false);}});};useEffect(function(){authListener();},[]);return/*#__PURE__*/_jsxs(\"section\",{className:\"header wrapper login\",children:[/*#__PURE__*/_jsx(Nav,{authListener:authListener}),/*#__PURE__*/_jsxs(\"section\",{className:\"login__form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Zaloguj si\\u0119\"}),/*#__PURE__*/_jsx(\"div\",{className:\"decoration form__deco\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__box\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login__input\",onChange:function onChange(e){setUserEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(\"p\",{children:emailError}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Has\\u0142o\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login__input\",onChange:function onChange(e){setUserPassword(e.target.value);},type:\"password\"})]}),/*#__PURE__*/_jsx(\"p\",{children:passwordError})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__buttons\",children:[/*#__PURE__*/_jsx(RouterPath,{to:\"/Register\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Za\\u0142\\xF3\\u017C konto\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return handleLogin(e);},children:\"Zaloguj si\\u0119\"})]})]})]});}export default Login;","map":{"version":3,"sources":["C:/Users/aleks/Desktop/Projekty/ClothingSwap/clothing-swap/src/Components/Login/Login.js"],"names":["React","useState","useEffect","Nav","Link","RouterPath","fire","Login","userEmail","setUserEmail","userPassword","setUserPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","currentUser","setCurrentUser","clearErrors","handleLogin","e","preventDefault","auth","signInWithEmailAndPassword","then","authListener","catch","error","console","log","code","message","onAuthStateChanged","userE","email","target","value"],"mappings":"qOAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,GAAP,KAAgB,uCAAhB,CACA,OAAQC,IAAI,GAAIC,CAAAA,UAAhB,KAAiC,kBAAjC,CACA,OAAQC,IAAR,KAAmB,cAAnB,CAGA,QAASC,CAAAA,KAAT,EAAiB,eAEqBN,QAAQ,CAAC,EAAD,CAF7B,wCAENO,SAFM,eAEKC,YAFL,8BAG2BR,QAAQ,CAAC,EAAD,CAHnC,yCAGNS,YAHM,eAGQC,eAHR,8BAIuBV,QAAQ,CAAC,EAAD,CAJ/B,yCAINW,UAJM,eAIMC,aAJN,8BAK6BZ,QAAQ,CAAC,EAAD,CALrC,yCAKNa,aALM,eAKSC,gBALT,8BAMuBd,QAAQ,CAAC,EAAD,CAN/B,0CAMNe,UANM,gBAMMC,aANN,gCAQyBhB,QAAQ,CAAC,EAAD,CARjC,2CAQNiB,WARM,gBAQOC,cARP,gBAWb,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBP,aAAa,CAAC,EAAD,CAAb,CACAE,gBAAgB,CAAC,EAAD,CAAhB,CACH,CAHD,CAKA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GACAH,WAAW,GACXd,IAAI,CACHkB,IADD,GAECC,0BAFD,CAE4BjB,SAF5B,CAEuCE,YAFvC,EAGCgB,IAHD,CAGMC,YAAY,EAHlB,EAICC,KAJD,CAIO,SAACC,KAAD,CAAW,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,OAAQA,KAAK,CAACG,IAAd,EACI,IAAK,oBAAL,CACA,IAAK,oBAAL,CACA,IAAK,qBAAL,CACInB,aAAa,CAACgB,KAAK,CAACI,OAAP,CAAb,CACA,MACJ,IAAK,qBAAL,CACIlB,gBAAgB,CAACc,KAAK,CAACI,OAAP,CAAhB,CACA,MARR,CAUH,CAhBD,EAkBH,CArBD,CAuBA,GAAMN,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBrB,IAAI,CAACkB,IAAL,GAAYU,kBAAZ,CAA+B,SAACC,KAAD,CAAW,CACtC,GAAGA,KAAH,CAAU,CACNhB,cAAc,CAACb,IAAI,CAACkB,IAAL,GAAYN,WAAZ,CAAwBkB,KAAzB,CAAd,CACAN,OAAO,CAACC,GAAR,CAAYzB,IAAI,CAACkB,IAAL,GAAYN,WAAZ,CAAwBkB,KAApC,EACH,CAHD,IAGO,CACHnB,aAAa,CAAC,KAAD,CAAb,CACH,CACJ,CAPD,EAQH,CATD,CAYAf,SAAS,CAAC,UAAM,CACZyB,YAAY,GACf,CAFQ,CAEN,EAFM,CAAT,CAKA,mBACI,iBAAS,SAAS,CAAC,sBAAnB,wBACI,KAAC,GAAD,EAAK,YAAY,CAAEA,YAAnB,EADJ,cAEI,iBAAS,SAAS,CAAC,aAAnB,wBACI,wCADJ,cAEI,YAAK,SAAS,CAAC,uBAAf,EAFJ,cAGI,aAAK,SAAS,CAAC,YAAf,wBACI,oCACI,gCADJ,cAEI,cAAO,SAAS,CAAC,cAAjB,CAAgC,QAAQ,CAAE,kBAACL,CAAD,CAAO,CAACb,YAAY,CAACa,CAAC,CAACe,MAAF,CAASC,KAAV,CAAZ,CAA8B,CAAhF,EAFJ,GADJ,cAKI,mBAAI1B,UAAJ,EALJ,cAMI,oCACI,qCADJ,cAEI,cAAO,SAAS,CAAC,cAAjB,CAAgC,QAAQ,CAAE,kBAACU,CAAD,CAAO,CAACX,eAAe,CAACW,CAAC,CAACe,MAAF,CAASC,KAAV,CAAf,CAAiC,CAAnF,CAAqF,IAAI,CAAC,UAA1F,EAFJ,GANJ,cAUI,mBAAIxB,aAAJ,EAVJ,GAHJ,cAeI,aAAK,SAAS,CAAC,gBAAf,wBACI,KAAC,UAAD,EAAY,EAAE,CAAC,WAAf,uBACI,oDADJ,EADJ,cAKQ,eAAQ,OAAO,CAAE,iBAACQ,CAAD,QAAOD,CAAAA,WAAW,CAACC,CAAD,CAAlB,EAAjB,8BALR,GAfJ,GAFJ,GADJ,CA6BH,CAED,cAAef,CAAAA,KAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport Nav from \"../Home/Header/Header__components/Nav\";\r\nimport {Link as RouterPath} from \"react-router-dom\";\r\nimport {fire} from \"../../config\";\r\n\r\n\r\nfunction Login() {\r\n\r\n    const [userEmail, setUserEmail] = useState(\"\");\r\n    const [userPassword, setUserPassword] = useState(\"\");\r\n    const [emailError, setEmailError] = useState(\"\");\r\n    const [passwordError, setPasswordError] = useState(\"\");\r\n    const [hasAccount, setHasAccount] = useState(\"\");\r\n\r\n    const [currentUser, setCurrentUser] = useState(\"\");\r\n\r\n\r\n    const clearErrors = () => {\r\n        setEmailError(\"\");\r\n        setPasswordError(\"\");\r\n    }\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n        clearErrors();\r\n        fire \r\n        .auth()\r\n        .signInWithEmailAndPassword(userEmail, userPassword)\r\n        .then(authListener())\r\n        .catch((error) => {\r\n            console.log(error)\r\n            switch (error.code) {\r\n                case \"auth/invalid-email\":\r\n                case \"auth/user-disabled\":\r\n                case \"auth/user-not-found\":\r\n                    setEmailError(error.message);\r\n                    break;\r\n                case \"auth/wrong-password\":\r\n                    setPasswordError(error.message);\r\n                    break;\r\n            }\r\n        })\r\n\r\n    };\r\n\r\n    const authListener = () => {\r\n        fire.auth().onAuthStateChanged((userE) => {\r\n            if(userE) {\r\n                setCurrentUser(fire.auth().currentUser.email);\r\n                console.log(fire.auth().currentUser.email);\r\n            } else {\r\n                setHasAccount(false);\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        authListener();\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <section className=\"header wrapper login\">\r\n            <Nav authListener={authListener} />\r\n            <section className=\"login__form\">\r\n                <h1>Zaloguj się</h1>\r\n                <div className=\"decoration form__deco\"></div>\r\n                <div className=\"login__box\">\r\n                    <div>\r\n                        <label>Email</label>\r\n                        <input className=\"login__input\" onChange={(e) => {setUserEmail(e.target.value);}} />\r\n                    </div>\r\n                    <p>{emailError}</p>\r\n                    <div>\r\n                        <label>Hasło</label>\r\n                        <input className=\"login__input\" onChange={(e) => {setUserPassword(e.target.value);}} type=\"password\" />\r\n                    </div>\r\n                    <p>{passwordError}</p>\r\n                </div>\r\n                <div className=\"login__buttons\">\r\n                    <RouterPath to=\"/Register\">\r\n                        <button>Załóż konto</button>\r\n                    </RouterPath>\r\n                    {/* <RouterPath to=\"/Home\"> */}\r\n                        <button onClick={(e) => handleLogin(e)}>Zaloguj się</button>\r\n                    {/* </RouterPath> */}\r\n                </div>\r\n            </section>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}